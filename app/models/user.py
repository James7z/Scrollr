from .db import db, environment, SCHEMA, add_prefix_for_prod
import random
from werkzeug.security import generate_password_hash, check_password_hash
from flask_login import UserMixin
from datetime import datetime

defaultProfilePics = [
    "data:image/png;base64,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",
    "data:image/png;base64,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",
    "data:image/png;base64,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",
    "data:image/png;base64,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",
    "data:image/png;base64,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",
    "https://64.media.tumblr.com/543927eaa6100b4a89090ae9caaca7ae/tumblr_nr3p4vlQ8S1u0setpo4_r1_500.png"
]

def randomProfile():
    return defaultProfilePics[random.randint(0, len(defaultProfilePics) - 1)]

user_likes = db.Table(
    'user_likes',
    db.Model.metadata,
    db.Column('user_id', db.Integer, db.ForeignKey(
        add_prefix_for_prod('users.id')), primary_key=True),
    db.Column('post_id', db.Integer, db.ForeignKey(
        add_prefix_for_prod('posts.id')), primary_key=True)
)

follows = db.Table(
    "follows",
    db.Model.metadata,
    db.Column('follower', db.Integer, db.ForeignKey(
        add_prefix_for_prod('users.id')), primary_key=True),
    db.Column('followed', db.Integer, db.ForeignKey(
        add_prefix_for_prod('users.id')), primary_key=True)
)

if environment == 'production':
    user_likes.schema = SCHEMA
    follows.schema = SCHEMA


class User(db.Model, UserMixin):
    __tablename__ = 'users'

    if environment == "production":
        __table_args__ = {'schema': SCHEMA}

    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(40), nullable=False, unique=True)
    email = db.Column(db.String(255), nullable=False, unique=True)
    hashed_password = db.Column(db.String(255), nullable=False)
    profile_picture = db.Column(db.Text, default=randomProfile)
    createdAt = db.Column(db.DateTime, nullable=False, default=datetime.now())
    updatedAt = db.Column(db.DateTime, nullable=False, default=datetime.now())

    posts = db.relationship("Post", back_populates="user")
    comments = db.relationship("Comment", back_populates="user")
    liked_posts = db.relationship(
        "Post",
        secondary="user_likes",
        back_populates="user_likes"
    )
    followers = db.relationship(
        "User",
        secondary="follows",
        primaryjoin=follows.c.followed == id,
        secondaryjoin=follows.c.follower == id,
        backref="following"
    )

    followings = db.relationship(
        "User",
        secondary="follows",
        primaryjoin=follows.c.follower == id,
        secondaryjoin=follows.c.followed == id,
        backref="follower"
    )

    @property
    def password(self):
        return self.hashed_password

    @password.setter
    def password(self, password):
        self.hashed_password = generate_password_hash(password)

    def check_password(self, password):
        return check_password_hash(self.password, password)

    def to_dict(self):
        return {
            'id': self.id,
            'username': self.username,
            'profile_picture': self.profile_picture,
            'email': self.email,
            'followers': [follower.to_dict2() for follower in self.followers],
            'followings': [following.to_dict2() for following in self.followings],
        }

    def to_dict2(self):
        return {
            'id': self.id,
            'username': self.username,
            'profile_picture': self.profile_picture,
            'email': self.email,
        }
